"use strict";

var test = require('tape');
var sinon = require('sinon');
var map = require('./');

test('exists', function(t) {
    t.equal(typeof map, 'function');
    t.end();
});

test('returns an array', function(t) {
    t.equal(Array.isArray(map()), true);
    t.end();
});

test('call callback each iteration', function(t) {
    var callback = sinon.spy();
    map([1, 2, 3], callback);
    t.equal(callback.callCount, 3);
    callback = sinon.spy();
    map([1, 2, 3, 4], callback);
    t.equal(callback.callCount, 4);
    t.end();
});

test('modify each item', function(t) {
    function timesByThree(value) {
        return value * 3;
    }
    var result = map([1, 2, 3], timesByThree);
    t.deepEqual(result, [3, 6, 9]);
    t.end();
});
